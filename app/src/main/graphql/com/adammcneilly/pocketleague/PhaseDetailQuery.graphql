fragment SetSlotFragment on SetSlot {
    entrant {
        ...EventEntrantFragment
    }
    slotIndex
}

fragment EventSetFragment on Set {
    fullRoundText
    displayScore
    winnerId
    round
    slots {
        ...SetSlotFragment
    }
}

fragment PhaseDetailFragment on Phase {
    ...PhaseOverviewFragment
    sets(
        perPage: $perPage
    ) {
        pageInfo {
            total
            totalPages
            page
        }
        nodes {
            ...EventSetFragment
        }
    }
}

query PhaseDetailQuery(
    $id: ID,
    $perPage: Int,
) {
    phase(id: $id) {
        ...PhaseDetailFragment
    }
}